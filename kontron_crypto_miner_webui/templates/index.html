{% extends "common/base.html" %}
{% block head %}
    <!--<link href="/static/css/index.css" rel="stylesheet" type="text/css" media="all">-->
    <script src="/static/js/wallet.js"></script>
{% endblock %}
{% block body %}

<script type="text/x-template" id="transaction-item-template">
    <tr v-bind:title="t.hash"><td>[[ t.time ]]</td><td>[[ t.amount ]]</td><td>[[ t.fee ]]</td><td>[[ t.mixin ]]</td></tr>
</script>

<script type="text/x-template" id="statistics-template">
        <div id="stats">
            <h2>Statistics</h2>
            <div><label>Total Hashes : </label>[[stats.hashes]] ([[(stats.hashes / 1024 / 1024).toFixed(1)]] MH)</div>
            <div><label>Current Hashrate : </label>[[stats.hashrate]] / sec</div>
            <div><label>Last Share Submitted : </label>[[stats.lastShare]]</div>
            <div><label>Electroneum price : </label>1 ETN = [[(price.usd / 1).toFixed(4)]] USD ([[price.percent_change_24h]]% ~ 24H) </div>
            <div><label>Total Paid : </label>[[(stats.paid / 100).toFixed(2)]] ETN = <span>[[(stats.paid / 100 * price.usd).toFixed(2)]] USD</span></div>
            <div><label>Pending Balance : </label>[[(stats.balance / 100).toFixed(2)]] ETN = <span>[[(stats.balance / 100 * price.usd).toFixed(2)]] USD</span></div>
        </div>
</script>

<script type="text/x-template" id="transactions-template">
        <div id="transactions">
            <h2>Payments</h2>
            <table>
                <thead>
                    <tr>
                        <th>Time</th><th>Amount</th><th>Fee</th><th>Mixin</th>
                    </tr>
                </thead>
                <tbody>
                    <tr is="transaction-item"
                        v-for="item in transactions"
                        v-bind:t="item"
                        v-bind:key="item.id">
                    </tr>
                </tbody>
            </table>
        </div>
</script>

<div id="container">
    <div id="wallet">
        <stats v-bind:stats="stats" v-bind:price="price"></stats>
        <transactions v-bind:transactions="transactions" ></transactions>
    </div>
</div>
<script>
    WALLET_ADDRESS = '{{ wallet_address }}';
</script>

{% endblock %}